<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ë™í›ˆ & ë‹¤í˜œ ê²°í˜¼í•©ë‹ˆë‹¤</title>

  <!-- ë¯¸ë¦¬ë³´ê¸°(ì¹´í†¡/ë¬¸ì)ìš© -->
  <meta property="og:title" content="ë™í›ˆ & ë‹¤í˜œ ê²°í˜¼í•©ë‹ˆë‹¤">
  <meta property="og:description" content="ì†Œì¤‘í•œ ë‚ , í•¨ê»˜í•´ ì£¼ì„¸ìš”.">
  <meta property="og:image" content="cover.jpg">
  <meta name="theme-color" content="#ffffff">

  <style>
    :root{
      --bg:#f7f7f7; --fg:#111; --sub:#666; --card:#fff; --line:rgba(0,0,0,.08); --accent:#0a84ff;
      --radius:16px; --gap:14px; --shadow:0 1px 6px rgba(0,0,0,.06);
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg:#0f1113; --fg:#eee; --sub:#9aa0a6; --card:#15181b; --line:rgba(255,255,255,.08); --accent:#4da3ff;
      }
      meta[name="theme-color"]{ content:#0f1113; }
    }
    *{ box-sizing:border-box; }
    html,body{ margin:0; padding:0; background:var(--bg); color:var(--fg); font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', Apple SD Gothic Neo, sans-serif; }
    .wrap{ max-width:780px; margin:0 auto; padding:18px; }
    .card{ background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px; }
    header{ text-align:center; padding:8px 0 2px; }
    .names{ font-size:38px; font-weight:800; letter-spacing:.2px; }
    .amp{ opacity:.7; margin:0 .22em; }
    .date{ color:var(--sub); font-size:16px; }
    .hero{ overflow:hidden; border-radius:var(--radius); margin:14px 0 18px; aspect-ratio: 16/9; background:#e9ecef; display:flex; align-items:center; justify-content:center; }
    .hero img{ width:100%; height:100%; object-fit:cover; display:block; }
    h2{ margin:0 0 10px; font-size:18px; }
    .section{ margin:16px 0; }
    .muted{ color:var(--sub); }
    .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .btn{
      appearance:none; border:0; border-radius:12px; background:var(--accent); color:#fff; padding:12px 16px; font-weight:700; cursor:pointer; text-decoration:none; display:inline-flex; align-items:center; gap:8px;
    }
    .pill{ border:1px solid var(--line); background:transparent; color:var(--fg); border-radius:999px; padding:8px 12px; text-decoration:none; display:inline-flex; align-items:center; gap:6px; cursor:pointer; }
    .pill:active,.btn:active{ transform:scale(.99); }
    .grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:var(--gap); }
    @media (max-width:640px){ .grid-2{ grid-template-columns:1fr; } }
    .sep{ height:1px; background:var(--line); margin:14px 0; }
    details{ border-radius:12px; padding:0; overflow:hidden; }
    details summary{ list-style:none; cursor:pointer; padding:14px 16px; font-weight:700; background:var(--card); }
    details[open] summary{ border-bottom:1px solid var(--line); }
    details .panel{ padding:14px 16px; background:var(--card); }
    .center{text-align:center;}
    .badge{ font-size:12px; color:#fff; background:var(--accent); border-radius:6px; padding:4px 8px; font-weight:700; }
    /* ê°¤ëŸ¬ë¦¬ */
    .gallery{ position:relative; overflow:hidden; border-radius:var(--radius); }
    .track{ display:flex; transition:transform .35s ease; }
    .slide{ min-width:100%; }
    .slide img{ width:100%; height:380px; object-fit:cover; display:block; background:#e9ecef; }
    .g-ctrl{ display:flex; justify-content:space-between; position:absolute; inset:auto 0 10px 0; padding:0 10px; }
    .g-ctrl button{ background:rgba(0,0,0,.35); color:#fff; border:0; border-radius:12px; padding:8px 12px; cursor:pointer; }
    /* ì¹´ìš´íŠ¸ë‹¤ìš´ */
    .count{ display:flex; gap:10px; justify-content:center; }
    .count .box{ background:var(--card); border:1px solid var(--line); border-radius:12px; padding:10px 12px; min-width:64px; text-align:center; }
    .count .num{ font-size:20px; font-weight:800; }
    .count .lab{ font-size:12px; color:var(--sub); margin-top:2px; }
    footer{ text-align:center; color:var(--sub); font-size:13px; padding:22px 0 12px; }
  </style>
</head>
<body>
  <div class="wrap">

    <!-- ===== CONFIG: ì—¬ê¸°ë¥¼ ë„ˆí¬ ì •ë³´ë¡œ ë°”ê¾¸ë©´ ë¨ ===== -->
    <script>
      const CONFIG = {
        coupleNames: "ë™í›ˆ & ë‹¤í˜œ",
        dateStr: "2025-10-11",      // YYYY-MM-DD
        startTime: "13:00",         // HH:mm (24h)
        endTime: "15:00",           // HH:mm (ìº˜ë¦°ë”ìš©)
        hallName: "ì„œìš¸ â—‹â—‹ì›¨ë”©í™€ â—¯ì¸µ â—¯í™€",
        address: "ì„œìš¸ì‹œ â—¯â—¯êµ¬ â—¯â—¯ë¡œ 00",
        kakaoMap: "https://map.kakao.com/",  // ì‹¤ì œ ì¥ì†Œ ê³µìœ  ë§í¬ë¡œ êµì²´
        naverMap: "https://naver.me/",       // ì‹¤ì œ ì¥ì†Œ ê³µìœ  ë§í¬ë¡œ êµì²´
        groomPhone: "010-0000-0000",
        bridePhone: "010-0000-0000",
        notes: "ì„œë¡œê°€ ì„œë¡œì—ê²Œ ë”°ëœ»í•œ ì‰¼ì´ ë˜ì–´ ì£¼ê¸°ë¡œ ì•½ì†í–ˆìŠµë‹ˆë‹¤. ì†Œì¤‘í•œ ë¶„ë“¤ì„ ëª¨ì‹œê³  ê·¸ ì²«ê±¸ìŒì„ ë‚´ë”›ìœ¼ë ¤ í•©ë‹ˆë‹¤.",
        accounts: [
          { side:"ì‹ ë‘ ì¸¡", bank:"êµ­ë¯¼", number:"000000-00-000000", name:"í™ê¸¸ë™" },
          { side:"ì‹ ë¶€ ì¸¡", bank:"ìš°ë¦¬", number:"0000-000-000000", name:"ê¹€ê¸¸ë™" }
        ],
        gallery: [
          "cover.jpg",         // ìµœì†Œ 1ì¥ì€ ê¶Œì¥
          // í•„ìš”í•˜ë©´ ì¶”ê°€: "img2.jpg","img3.jpg"
        ]
      };
    </script>
    <!-- ===== /CONFIG ===== -->

    <header class="card center">
      <div class="names"><span id="names"></span></div>
      <div class="date"><span id="prettyDate"></span></div>
    </header>

    <div class="hero card">
      <img src="cover.jpg" alt="ì»¤ë²„" onerror="this.parentElement.textContent='cover.jpgë¥¼ ê°™ì€ í´ë”ì— ë„£ì–´ì£¼ì„¸ìš”';this.remove();" />
    </div>

    <section class="section card center">
      <h2>ì´ˆëŒ€í•©ë‹ˆë‹¤</h2>
      <p class="muted" id="notes"></p>
      <div class="sep"></div>
      <div class="count" id="countdown" aria-label="ê²°í˜¼ì‹ê¹Œì§€ ë‚¨ì€ ì‹œê°„">
        <div class="box"><div class="num" id="dd">--</div><div class="lab">ì¼</div></div>
        <div class="box"><div class="num" id="hh">--</div><div class="lab">ì‹œê°„</div></div>
        <div class="box"><div class="num" id="mm">--</div><div class="lab">ë¶„</div></div>
        <div class="box"><div class="num" id="ss">--</div><div class="lab">ì´ˆ</div></div>
      </div>
    </section>

    <section class="section grid-2">
      <div class="card">
        <h2>ì¼ì •</h2>
        <p><strong id="schedLine">-</strong></p>
        <div class="row">
          <button class="btn" onclick="downloadICS()">ìº˜ë¦°ë”ì— ì¶”ê°€ (.ics)</button>
        </div>
      </div>
      <div class="card">
        <h2>ì¥ì†Œ</h2>
        <p><strong id="hall"></strong><br><span class="muted" id="addr"></span></p>
        <div class="row" style="margin-top:8px">
          <a class="btn" id="kakaoBtn" target="_blank" rel="noopener">ì¹´ì¹´ì˜¤ë§µ ì—´ê¸°</a>
          <a class="pill" id="naverBtn" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„</a>
        </div>
      </div>
    </section>

    <section class="section card">
      <h2>ì—°ë½ì²˜</h2>
      <div class="row">
        <span class="pill">ì‹ ë‘: <a href="#" id="groomTel"></a></span>
        <span class="pill">ì‹ ë¶€: <a href="#" id="brideTel"></a></span>
      </div>
      <div class="sep"></div>
      <div class="row">
        <button class="btn" onclick="sharePage()">ê³µìœ í•˜ê¸°</button>
        <button class="pill" onclick="copyLink()">ë§í¬ ë³µì‚¬</button>
      </div>
    </section>

    <section class="section">
      <details class="card">
        <summary>ë§ˆìŒ ì „í•˜ì‹¤ ê³³ (ì„ íƒ)</summary>
        <div class="panel" id="accounts"></div>
      </details>
    </section>

    <section class="section card">
      <h2>ê°¤ëŸ¬ë¦¬</h2>
      <div class="gallery" id="gallery">
        <div class="track" id="track"></div>
        <div class="g-ctrl"><button onclick="prev()">ì´ì „</button><button onclick="next()">ë‹¤ìŒ</button></div>
      </div>
      <p class="muted center" style="margin-top:8px"><span class="badge" id="gIndex">1 / 1</span></p>
    </section>

    <footer>í•¨ê»˜í•´ ì£¼ì‹œëŠ” ë§ˆìŒ, ì˜¤ë˜ ê¸°ì–µí•˜ê² ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.</footer>
  </div>

  <script>
    // ---------- ìœ í‹¸ ----------
    const $ = (sel) => document.querySelector(sel);
    const pad = (n) => String(n).padStart(2,'0');
    const toTelLink = (num) => `tel:${num.replaceAll('-','')}`;

    // ---------- ì´ˆê¸° ë Œë” ----------
    (function init(){
      $('#names').textContent = CONFIG.coupleNames;
      const d = new Date(`${CONFIG.dateStr}T${CONFIG.startTime}:00`);
      const weekdays = ['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '];
      const pretty = `${d.getFullYear()}ë…„ ${d.getMonth()+1}ì›” ${d.getDate()}ì¼ (${weekdays[d.getDay()]}) ${CONFIG.startTime}`;
      $('#prettyDate').textContent = pretty;

      $('#notes').textContent = CONFIG.notes;
      $('#hall').textContent = CONFIG.hallName;
      $('#addr').textContent = CONFIG.address;
      $('#kakaoBtn').href = CONFIG.kakaoMap;
      $('#naverBtn').href = CONFIG.naverMap;

      $('#groomTel').textContent = CONFIG.groomPhone;
      $('#groomTel').href = toTelLink(CONFIG.groomPhone);
      $('#brideTel').textContent = CONFIG.bridePhone;
      $('#brideTel').href = toTelLink(CONFIG.bridePhone);

      $('#schedLine').textContent = `${pretty} ~ ${CONFIG.endTime}`;

      // ê³„ì¢Œ
      if(CONFIG.accounts?.length){
        $('#accounts').innerHTML = CONFIG.accounts.map(ac =>
          `<p><strong>${ac.side}</strong><br>${ac.bank} ${ac.number} (${ac.name})</p>`
        ).join('');
      }

      // ê°¤ëŸ¬ë¦¬
      const track = $('#track');
      (CONFIG.gallery?.length?CONFIG.gallery:[ 'cover.jpg' ]).forEach(src=>{
        const div=document.createElement('div'); div.className='slide';
        const img=document.createElement('img'); img.src=src; img.alt='gallery';
        img.onerror=()=>{ img.replaceWith(Object.assign(document.createElement('div'),{textContent:'ì´ë¯¸ì§€ë¥¼ í™•ì¸í•˜ì„¸ìš”',style:'padding:40px;text-align:center;color:var(--sub);'})); };
        div.appendChild(img); track.appendChild(div);
      });
      updateGIndex();

      // ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘
      startCountdown();
      // ìŠ¤ì™€ì´í”„ ì œìŠ¤ì²˜
      initSwipe();
    })();

    // ---------- ë§í¬ ê³µìœ /ë³µì‚¬ ----------
    async function copyLink(){
      try{
        await navigator.clipboard.writeText(location.href);
        alert('ë§í¬ë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.');
      }catch{
        const ta=document.createElement('textarea');
        ta.value=location.href; document.body.appendChild(ta);
        ta.select(); document.execCommand('copy'); ta.remove();
        alert('ë§í¬ë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.');
      }
    }
    function sharePage(){
      if(navigator.share){
        navigator.share({ title:document.title, text:'í•¨ê»˜í•´ ì£¼ì„¸ìš” ğŸ’Œ', url:location.href }).catch(()=>{});
      }else{ copyLink(); }
    }

    // ---------- ìº˜ë¦°ë”(.ics) ----------
    function downloadICS(){
      const dt = CONFIG.dateStr.replaceAll('-','');
      const st = CONFIG.startTime.replace(':','')+'00';
      const et = CONFIG.endTime.replace(':','')+'00';
      const uid = `${Date.now()}@invite`;
      const sum = `${CONFIG.coupleNames} ê²°í˜¼ì‹`;
      const loc = `${CONFIG.hallName} (${CONFIG.address})`;
      const desc = CONFIG.notes;

      const ics = [
        'BEGIN:VCALENDAR',
        'VERSION:2.0',
        'PRODID:-//Custom Invite//KOR//',
        'CALSCALE:GREGORIAN',
        'METHOD:PUBLISH',
        'BEGIN:VEVENT',
        `UID:${uid}`,
        `DTSTAMP:${dt}T${st}Z`,
        `DTSTART;TZID=Asia/Seoul:${dt}T${st}`,
        `DTEND;TZID=Asia/Seoul:${dt}T${et}`,
        `SUMMARY:${escapeICS(sum)}`,
        `LOCATION:${escapeICS(loc)}`,
        `DESCRIPTION:${escapeICS(desc)}`,
        'END:VEVENT',
        'END:VCALENDAR'
      ].join('\r\n');

      const blob = new Blob([ics], {type:'text/calendar;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'wedding.ics'; a.click();
      setTimeout(()=>URL.revokeObjectURL(url), 500);
    }
    function escapeICS(t=''){ return String(t).replace(/([,;])/g,'\\$1').replace(/\n/g,'\\n'); }

    // ---------- ê°¤ëŸ¬ë¦¬ ----------
    let idx = 0;
    function updateGallery(){
      const track = $('#track');
      track.style.transform = `translateX(${-idx*100}%)`;
      updateGIndex();
    }
    function prev(){ idx = Math.max(0, idx-1); updateGallery(); }
    function next(){
      const total = $('#track').children.length;
      idx = Math.min(total-1, idx+1); updateGallery();
    }
    function updateGIndex(){
      const total = $('#track').children.length;
      $('#gIndex').textContent = `${idx+1} / ${total}`;
    }
    function initSwipe(){
      const g = $('#gallery');
      let sx=0, dx=0, touching=false;
      g.addEventListener('touchstart',e=>{ touching=true; sx=e.touches[0].clientX; });
      g.addEventListener('touchmove',e=>{ if(!touching) return; dx=e.touches[0].clientX - sx; });
      g.addEventListener('touchend',()=>{ touching=false; if(Math.abs(dx)>40){ if(dx<0) next(); else prev(); } dx=0; });
    }

    // ---------- ì¹´ìš´íŠ¸ë‹¤ìš´ ----------
    let timer=null;
    function startCountdown(){
      if(timer) clearInterval(timer);
      const target = new Date(`${CONFIG.dateStr}T${CONFIG.startTime}:00+09:00`).getTime();
      const dd=$('#dd'),hh=$('#hh'),mm=$('#mm'),ss=$('#ss');
      const tick = ()=>{
        const now = Date.now();
        let diff = Math.max(0, target - now);
        const d = Math.floor(diff / (1000*60*60*24)); diff -= d*24*60*60*1000;
        const h = Math.floor(diff / (1000*60*60)); diff -= h*60*60*1000;
        const m = Math.floor(diff / (1000*60)); diff -= m*60*1000;
        const s = Math.floor(diff / 1000);
        dd.textContent = d; hh.textContent = pad(h); mm.textContent = pad(m); ss.textContent = pad(s);
      };
      tick(); timer = setInterval(tick, 1000);
    }
  </script>
</body>

</html>
